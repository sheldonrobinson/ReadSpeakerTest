<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ReadSpeaker TTS: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ReadSpeaker TTS
   </div>
   <div id="projectbrief">Realtime TTS in Unreal Engine.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Main Page </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p >This is an introduction to using ReadSpeaker TTS in Unreal Engine. Below you will find a guide to get it installed and running. Further reading is presented in the pages listed below. </p><ul>
<li><a class="el" href="ssml.html">SSML</a> </li>
<li><a class="el" href="optimization.html">Optimization</a> </li>
<li><a class="el" href="android.html">Android</a> </li>
<li><a class="el" href="metahuman.html">Metahuman Lip Sync</a></li>
</ul>
<h2><a class="anchor" id="install_sec"></a>
Installation</h2>
<ol type="1">
<li>Navigate to your project's root folder.</li>
<li>Create a directory named "Plugins" if it does not already exist.</li>
<li>Copy the ReadSpeakerTTS directory into the newly created "Plugins" directory.</li>
<li>Open the project solution (yourproject.sln) file in Visual Studio and build from there*.</li>
</ol>
<p >*As an example, to build the editor for Windows, make sure to select Development Editor as the build configuration and Win64 as the platform</p>
<h2><a class="anchor" id="install_voice_sec"></a>
Installing Voice Engines</h2>
<p >To install a voice engine to your project:</p>
<p >Windows/Linux:</p>
<ul>
<li>Copy the contents in the WinLinux subdirectory into {PLUGIN_DIRECTORY}/Resources/ReadSpeaker/WinLinux/.</li>
</ul>
<p>Android:</p>
<ul>
<li>Copy the contents in the Android subdirectory into {PLUGIN_DIRECTORY}/Resource/ReadSpeaker/Android/. </li>
<li>Copy the file 'libvt_{LANGUAGE_CODE}_{TYPE}.so' from the subdirectory Binaries/Android/armeabi-v7a into {PLUGIN_DIRECTORY}/Binaries/ThirdParty/TTSLibrary/Android/armeabi-v7a </li>
<li>Copy the file 'libvt_{LANGUAGE_CODE}_{TYPE}.so' from the subdirectory Binaries/Android/arm64-v8a into {PLUGIN_DIRECTORY}/Binaries/ThirdParty/TTSLibrary/Android/arm64-v8a.</li>
</ul>
<p>Result (with unrelated files omitted):</p><ul>
<li>{YOUR_PROJECT}/Plugins<ul>
<li>ReadSpeakerTTS<ul>
<li>Resources<ul>
<li>ReadSpeaker<ul>
<li>WinLinux<ul>
<li>{VOICE_NAME}<ul>
<li>...</li>
</ul>
</li>
</ul>
</li>
<li>Android<ul>
<li>{VOICE_NAME}<ul>
<li>...</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Binaries<ul>
<li>ThirdParty<ul>
<li>TTSLibrary<ul>
<li>Android<ul>
<li>armeabi-v7a<ul>
<li>libvt_{LANGUAGE_CODE}_{TYPE}.so</li>
</ul>
</li>
<li>arm64-v8a<ul>
<li>libvt_{LANGUAGE_CODE}_{TYPE}.so</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>Open the project in Unreal. </li>
<li>Open the ReadSpeakerTTS settings window. </li>
<li>Press 'Scan for installed voice engines'.</li>
</ul>
<h2><a class="anchor" id="gettingstarted_sec"></a>
Getting Started</h2>
<p >This section requires you to have ReadSpeaker TTS installed in your project, along with atleast one voice engine. It is currently not possible to use the plugin in a Blueprints only project, thus your project must be set to be a C++ project. We define an entity which can speak using TTS with an Unreal component called <a class="el" href="classUTTSSpeaker.html">UTTSSpeaker</a>, this can be attached to any Actor by selecting the actor and then clicking 'Add Component'-&gt;'TTSSpeaker'. Once a 'TTSSpeaker' has been added to an actor you can inspect the component in the details panel. Here you can select from any of the voice engines installed in your project and define the speech characteristics. You will also be presented with some information about the selected voice engine such as it's gender and language. You can also customize the Audio Attenuation settings for the speaker, determining how the audio output is processed. If you prefer to have more direct control of the audio output, see the <a class="el" href="classUTTSConverter.html">UTTSConverter</a> class. You can preview the effects immediately in the Editor by pressing the "Preview" button below. You can choose between utilizing Blueprints or C++ to control the speaker, here we'll show examples for both.</p>
<h3><a class="anchor" id="cpp_sec"></a>
C++</h3>
<p >When using C++ scripts to control the speaker, you must make sure that your game modules which will use the TTS includes the ReadSpeakerTTS module. To do this, navigate to your modules build scripts which end with .Build.cs. Then add the following lines to the constructor;</p>
<div class="fragment"><div class="line">PrivateDependencyModules.Add(&quot;ReadSpeakerTTS&quot;);</div>
<div class="line">PublicDependencyModules.Add(&quot;ReadSpeakerTTS&quot;);</div>
</div><!-- fragment --><p >You can now include the TTS header in any script in your module. Here we define a custom Actor called SpeakingActor. We create the corresponding .h and .cpp files under /Public and /Private respectively.</p>
<p >SpeakingActor.h</p>
<div class="fragment"><div class="line">#pragma once</div>
<div class="line">#include &quot;CoreMinimal.h&quot;</div>
<div class="line">#include &quot;GameFramework/Character.h&quot;</div>
<div class="line">#include &quot;ReadSpeakerTTS.h&quot;</div>
<div class="line">#include &quot;SpeakingCharacter.generated.h&quot;</div>
<div class="line">UCLASS(config=Game)</div>
<div class="line">class ASpeakingCharacter : public ACharacter</div>
<div class="line">{</div>
<div class="line">    GENERATED_BODY()</div>
<div class="line">public:</div>
<div class="line">    ASpeakingCharacter();</div>
<div class="line">protected:</div>
<div class="line">    virtual void BeginPlay();</div>
<div class="line">private:</div>
<div class="line">    UTTSSpeaker *SpeakerComponent;</div>
<div class="line">};</div>
</div><!-- fragment --><p >SpeakingActor.cpp</p>
<div class="fragment"><div class="line">#include &quot;SpeakingCharacter.h&quot;</div>
<div class="line">#include &quot;Components/AudioComponent.h&quot;</div>
<div class="line">#include &quot;ReadSpeakerTTS.h&quot;</div>
<div class="line">ASpeakingCharacter::ASpeakingCharacter();</div>
<div class="line">void ASpeakingCharacter::BeginPlay(){</div>
<div class="line">  SpeakerComponent = FindComponentByClass&lt;UTTSSpeaker&gt;();</div>
<div class="line">  FReadSpeakerTTSModule::Init();</div>
<div class="line">  if(SpeakerComponent != NULL){</div>
<div class="line">   SpeakerComponent-&gt;SetAudioComponent(NewObject&lt;UAudioComponent&gt;(this));</div>
<div class="line">   SpeakerComponent-&gt;SetEngine(FReadSpeakerTTSModule::GetEngine(&quot;sophie&quot;, &quot;D16&quot;));</div>
<div class="line">   SpeakerComponent-&gt;SayAsync(&quot;Hello world&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p >We can now spawn a Speaking Character in our scene. We also need to add a <a class="el" href="classUTTSSpeaker.html">UTTSSpeaker</a> component to the Speaking Character, we do this by clicking on the character in the scene and then 'Add Component'-&gt;'TTSSpeaker'. Once we start the game we can now hear the character speak the sentence "Hello World".</p>
<h3><a class="anchor" id="blueprint_sec"></a>
Blueprint</h3>
<p >The blueprint functions correspond to C++ functions with the exact same names allowing you to read more about them in this document. To get started using blueprints, begin by selecting any Actor for which you want to enable speech, or simply create a new Actor. You must then attach a <a class="el" href="classUTTSSpeaker.html">UTTSSpeaker</a> component to said actor. This can be done by clicking on the Actor in the scene and in the Details Panel clicking 'Add Component'-&gt;'TTSSpeaker'. Below we show an example blueprint on how you can set up the Actor to speak upon starting the game.</p>
<div class="image">
<img src="blueprint.png" alt=""/>
</div>
<p >We begin by calling Init to initialize the TTS system. We then dynamically add an Audio Component to our Actor which will be used to play the resulting audio output. We then use the SetAudioComponent function to make sure that our TTSSpeaker component knows which Audio Component to play the audio from. Finally we call the SayAsync function with the text "Hello world". This will begin synthesizing the speech on a background thread and play it from the Audio Component upon completion. Now when we start the game we should hear the Actor speaking the sentence "Hello World".</p>
<h2><a class="anchor" id="note_sec"></a>
Note regarding Say/SayAsync</h2>
<p >Note that here we used SayAsync as opposed to Say which allowed us to perform the computationally heavy operation of synthesis on a background thread. The tradeoff being uncertainty as to when the synthesis completes. Depending on your use case, you might want to use either of these variants. If you rely on a steady framerate, <a class="el" href="classUTTSSpeaker.html#a655976067c26abe7b55a2870bcc61f23">UTTSSpeaker::SayAsync</a> is to prefer as only a small fraction of time is spent in the main thread. If you want to rely on the speech being played the next frame after the call, <a class="el" href="classUTTSSpeaker.html#a895631c0abc06305638f6170b71143ba">UTTSSpeaker::Say</a> should be used instead.</p>
<h2><a class="anchor" id="contact_sec"></a>
Contact</h2>
<p ><a href="#" onclick="location.href='mai'+'lto:'+'gam'+'in'+'g_s'+'up'+'por'+'t@'+'rea'+'ds'+'pea'+'ke'+'r.c'+'om'; return false;">gamin<span style="display: none;">.nosp@m.</span>g_su<span style="display: none;">.nosp@m.</span>pport<span style="display: none;">.nosp@m.</span>@rea<span style="display: none;">.nosp@m.</span>dspea<span style="display: none;">.nosp@m.</span>ker.<span style="display: none;">.nosp@m.</span>com</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
